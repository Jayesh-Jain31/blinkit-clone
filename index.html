<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Blinkit Clone â€“ Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js" type="module"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js" type="module"></script>
</head>
<body>
  <header style="display: flex; justify-content: space-between; padding: 10px; background: #0a9200; color: white;">
    <h2>Blinkit</h2>
    <div>
      <a href="cart.html" style="margin-right: 20px; color: white;">Cart (<span id="cart-count">0</span>)</a>
      <a href="login.html" id="auth-link" style="color: white;">Login / Signup</a>
    </div>
  </header>  <main style="padding: 20px;">
    <h3>ðŸ›’ Popular Products</h3>
    <div id="products" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px;"></div>
  </main>  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBeTcROuwX-XHGp-GEVomT00G3xwYAf1Ro",
      authDomain: "blinkit-clone-f1981.firebaseapp.com",
      projectId: "blinkit-clone-f1981",
      storageBucket: "blinkit-clone-f1981.appspot.com",
      messagingSenderId: "1004007918648",
      appId: "1:1004007918648:web:29b256eb724cc18bb02acd"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const productsContainer = document.getElementById("products");
    const cartCount = document.getElementById("cart-count");

    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      cartCount.innerText = cart.length;
    }

    function addToCart(product) {
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      cart.push(product);
      localStorage.setItem("cart", JSON.stringify(cart));
      updateCartCount();
      alert("Added to cart");
    }

    async function loadProducts() {
      const snapshot = await getDocs(collection(db, "products"));
      snapshot.forEach(doc => {
        const p = doc.data();
        const card = document.createElement("div");
        card.style.border = "1px solid #ccc";
        card.style.padding = "10px";
        card.style.borderRadius = "10px";
        card.innerHTML = `
          <img src="${p.image || 'https://via.placeholder.com/150'}" style="width: 100%; height: 120px; object-fit: cover; border-radius: 8px;">
          <h4>${p.name}</h4>
          <p>â‚¹${p.price}</p>
          <button onclick='addToCart(${JSON.stringify(p)})'>Add to Cart</button>
        `;
        productsContainer.appendChild(card);
      });
    }

    window.addToCart = addToCart;
    updateCartCount();
    loadProducts();
  </script></body>
</html>
